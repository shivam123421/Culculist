<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeworkIt - Question Solver AI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .robot-icon {
            width: 50px;
            height: 50px;
            background: #fff;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .ad-container {
            margin: 20px 0;
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            min-height: 100px;
        }

        .language-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: white;
            color: #667eea;
        }

        .main-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
        }

        .input-options {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .option-btn {
            flex: 1;
            min-width: 200px;
            padding: 15px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 500;
        }

        .option-btn:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .option-btn.active {
            border-color: #667eea;
            background: #f0f4ff;
            color: #667eea;
        }

        .input-section {
            margin-bottom: 25px;
        }

        .text-input {
            display: none;
        }

        .text-input.active {
            display: block;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            font-size: 16px;
            resize: vertical;
            outline: none;
            transition: border-color 0.3s ease;
        }

        textarea:focus {
            border-color: #667eea;
        }

        .image-input {
            display: none;
        }

        .image-input.active {
            display: block;
        }

        .file-upload {
            border: 2px dashed #e0e0e0;
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .file-upload:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .file-upload input {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .upload-icon {
            font-size: 48px;
            color: #ccc;
            margin-bottom: 15px;
        }

        .image-preview {
            margin-top: 20px;
            text-align: center;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 300px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .solve-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .solve-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .solve-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .loading {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .loading.active {
            display: flex;
        }

        .spinner {
            width: 30px;
            height: 30px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .result {
            display: none;
            background: #f8f9ff;
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
            border-left: 5px solid #667eea;
        }

        .result.active {
            display: block;
        }

        .result h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .result-content {
            color: #333;
            line-height: 1.8;
            white-space: pre-wrap;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .feature-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .feature-card h3 {
            color: #333;
            margin-bottom: 10px;
        }

        .feature-card p {
            color: #666;
            font-size: 0.9rem;
        }

        .error {
            background: #ffe6e6;
            color: #d63031;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            border-left: 4px solid #d63031;
            display: none;
        }

        .error.active {
            display: block;
        }

        /* Hamburger Menu Styles */
        .hamburger-menu {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }

        .hamburger-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .hamburger-icon:hover {
            background: white;
            transform: scale(1.05);
        }

        .hamburger-icon span {
            font-size: 24px;
        }

        .slide-menu {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.1);
            transition: left 0.3s ease;
            z-index: 999;
            padding: 80px 0 20px;
        }

        .slide-menu.active {
            left: 0;
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            z-index: 998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px 30px;
            color: #333;
            text-decoration: none;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .menu-item:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .menu-item-icon {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        .close-menu {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-menu:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 600px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .modal-header h2 {
            color: #667eea;
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            padding: 5px;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: #f0f0f0;
        }

        .privacy-content {
            line-height: 1.8;
            color: #333;
        }

        .privacy-content h3 {
            color: #667eea;
            margin: 25px 0 15px 0;
            font-size: 1.2rem;
        }

        .privacy-content p {
            margin: 15px 0;
        }

        .privacy-content ul {
            margin: 10px 0 15px 20px;
        }

        .privacy-content li {
            margin: 8px 0;
        }

        .share-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .share-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 20px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            background: white;
            text-decoration: none;
            color: #333;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .share-btn:hover {
            border-color: #667eea;
            background: #f0f4ff;
            color: #667eea;
            transform: translateY(-2px);
        }

        .share-icon {
            font-size: 24px;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .footer a {
            color: white;
            text-decoration: none;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .main-card {
                padding: 20px;
            }

            .input-options {
                flex-direction: column;
            }

            .option-btn {
                min-width: auto;
            }

            .language-tabs {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .tab-btn {
                width: 100%;
                justify-content: center;
            }

            .features {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .feature-card {
                padding: 20px 15px;
            }

            .feature-icon {
                font-size: 36px;
            }

            .slide-menu {
                width: 280px;
                left: -280px;
            }

            .modal-content {
                margin: 10px;
                padding: 25px;
            }

            .share-options {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Hamburger Menu -->
    <div class="hamburger-menu">
        <div class="hamburger-icon" onclick="toggleMenu()">
            <span>☰</span>
        </div>
    </div>

    <!-- Slide Menu -->
    <div class="menu-overlay" id="menuOverlay" onclick="closeMenu()"></div>
    <div class="slide-menu" id="slideMenu">
        <button class="close-menu" onclick="closeMenu()">×</button>
        
        <div class="menu-item" onclick="openShareModal()">
            <span class="menu-item-icon">📤</span>
            <span>Share This App</span>
        </div>
        
        <div class="menu-item" onclick="sendFeedback()">
            <span class="menu-item-icon">📧</span>
            <span>Feedback</span>
        </div>
        
        <div class="menu-item" onclick="openPrivacyModal()">
            <span class="menu-item-icon">🔒</span>
            <span>Privacy Policy</span>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="modal" id="shareModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>📤 Share This App</h2>
                <button class="modal-close" onclick="closeModal('shareModal')">×</button>
            </div>
            <p>Share HomeworkIt Question Solver AI with your friends and classmates!</p>
            <div class="share-options">
                <div class="share-btn" onclick="shareWhatsApp()">
                    <span class="share-icon">📱</span>
                    <span>WhatsApp</span>
                </div>
                <div class="share-btn" onclick="shareFacebook()">
                    <span class="share-icon">📘</span>
                    <span>Facebook</span>
                </div>
                <div class="share-btn" onclick="shareTwitter()">
                    <span class="share-icon">🐦</span>
                    <span>Twitter</span>
                </div>
                <div class="share-btn" onclick="copyLink()">
                    <span class="share-icon">🔗</span>
                    <span>Copy Link</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback Modal -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>📧 Send Feedback</h2>
                <button class="modal-close" onclick="closeModal('feedbackModal')">×</button>
            </div>
            <div class="feedback-form">
                <p>We'd love to hear from you! Share your thoughts about HomeworkIt.</p>
                
                <div class="form-group">
                    <label for="userEmail">Your Email (Optional):</label>
                    <input type="email" id="userEmail" placeholder="your.email@example.com" class="form-input">
                </div>
                
                <div class="form-group">
                    <label for="feedbackText">Your Feedback: <span class="required">*</span></label>
                    <textarea id="feedbackText" placeholder="Please share your experience, suggestions, or report issues..." class="form-textarea" rows="6"></textarea>
                </div>
                
                <div class="form-buttons">
                    <button class="cancel-btn" onclick="closeModal('feedbackModal')">Cancel</button>
                    <button class="submit-btn" onclick="sendEmailFeedback()">📧 Send Feedback</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div class="modal" id="privacyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>🔒 Privacy Policy</h2>
                <button class="modal-close" onclick="closeModal('privacyModal')">×</button>
            </div>
            <div class="privacy-content">
                <p><strong>Effective Date: August 4, 2025</strong></p>
                <p>Thank you for using HomeworkIt.</p>
                
                <p>At HomeworkIt, your privacy is our priority. This Privacy Policy describes how our AI-powered educational web application handles your data. HomeworkIt helps students solve academic questions using the Google Gemini API. We are committed to providing a safe and secure experience for all users.</p>

                <h3>1. No Personal Data Collection</h3>
                <p>HomeworkIt does NOT collect, store, or share any personal information. We do not require users to create an account or provide any personal details such as:</p>
                <ul>
                    <li>Name</li>
                    <li>Email address</li>
                    <li>Phone number</li>
                    <li>Location</li>
                    <li>IP address</li>
                </ul>
                <p>All features are accessible without login or registration.</p>

                <h3>2. Use of AI (Google Gemini API)</h3>
                <p>HomeworkIt uses the Google Gemini API to process and solve educational questions. All inputs are sent directly to Google's AI system for processing. HomeworkIt does not store, log, or retain the questions or responses you enter. We do not monitor user input or output in any way.</p>

                <h3>3. Third-Party Ads (Adsterra)</h3>
                <p>We use Adsterra to serve advertisements in order to support our service. Adsterra may collect limited technical data (such as device type or general location) to personalize ads. HomeworkIt does not control or access any data collected by Adsterra.</p>
                <p>For more information, refer to Adsterra's privacy policy available on their official website.</p>

                <h3>4. Cookies</h3>
                <p>HomeworkIt itself does not use cookies to track users. However, third-party services like Adsterra may use cookies for ad-related purposes. You can manage or disable cookies through your browser settings.</p>

                <h3>5. Children's Privacy</h3>
                <p>HomeworkIt is designed to assist students and may be used by children. Since we do not collect any personal data, the app is compliant with COPPA and other children's privacy laws by default.</p>

                <h3>6. Security</h3>
                <p>All communication with the Google Gemini API is encrypted via secure HTTPS protocol. While no personal data is stored, we implement general industry-standard measures to maintain platform security.</p>

                <h3>7. Changes to This Privacy Policy</h3>
                <p>We may update this policy as needed to reflect changes in our service or legal requirements. Any updates will be posted on this page with a revised "Effective Date."</p>

                <h3>8. Contact Us</h3>
                <p>If you have questions or concerns about this Privacy Policy, feel free to contact us:</p>
                <p>Email: <strong>shivamvishwakarma28756@gmail.com</strong></p>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>
                <div class="robot-icon">🤖</div>
                HomeworkIt
            </h1>
            <p>Solve problems with text or images</p>
        </div>

        <!-- Advertisement Top -->
        <div class="ad-container">
            <script async="async" data-cfasync="false" src="//pl27339487.profitableratecpm.com/7503c25ed71c6ed90abb0730d6fefd61/invoke.js"></script>
            <div id="container-7503c25ed71c6ed90abb0730d6fefd61"></div>
        </div>

        <div class="language-tabs">
            <button class="tab-btn active" data-lang="general">
                🌍 General
            </button>
            <button class="tab-btn" data-lang="hindi">
                🇮🇳 Hindi
            </button>
            <button class="tab-btn" data-lang="english">
                🇬🇧 English
            </button>
            <button class="tab-btn" data-lang="math">
                ➕ Math
            </button>
        </div>

        <div class="main-card">
            <div class="input-options">
                <div class="option-btn active" data-option="text">
                    📝 Text Question
                </div>
                <div class="option-btn" data-option="image">
                    📷 Upload Image
                </div>
            </div>

            <div class="input-section">
                <div class="text-input active">
                    <textarea id="questionText" placeholder="Type your question here... You can ask in Hindi or English.
Examples:
• गुरुत्वाकर्षण क्या है?
• Solve: 2x + 5 = 15
• What is photosynthesis?
• भारत की राजधानी क्या है?"></textarea>
                </div>

                <div class="image-input">
                    <div class="file-upload" onclick="document.getElementById('imageInput').click()">
                        <input type="file" id="imageInput" accept="image/*">
                        <div class="upload-icon">📷</div>
                        <h3>Upload Image</h3>
                        <p>Click to select an image with your question</p>
                    </div>
                    <div class="image-preview" id="imagePreview"></div>
                </div>
            </div>

            <button class="solve-btn" id="solveBtn">
                🚀 Solve Question
            </button>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <span>AI is solving your question...</span>
            </div>

            <div class="error" id="error"></div>

            <div class="result" id="result">
                <h3>✨ Solution:</h3>
                <div class="result-content" id="resultContent"></div>
            </div>
        </div>

        <!-- Advertisement Middle -->
        <div class="ad-container">
            <script async="async" data-cfasync="false" src="//pl27339487.profitableratecpm.com/7503c25ed71c6ed90abb0730d6fefd61/invoke.js"></script>
            <div id="container-7503c25ed71c6ed90abb0730d6fefd61"></div>
        </div>

        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">🌍</div>
                <h3>Multi-Language</h3>
                <p>Hindi & English support</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">📚</div>
                <h3>All Subjects</h3>
                <p>Math, Science, Languages</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">📷</div>
                <h3>Image Support</h3>
                <p>Upload photos of questions</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">⚡</div>
                <h3>Instant AI</h3>
                <p>Powered by Gemini</p>
            </div>
        </div>

        <div class="footer">
            <p>&copy; 2025 HomeworkIt. All rights reserved.</p>
            <p><a href="#" onclick="openPrivacyModal()">Privacy Policy</a> | 
               <a href="#" onclick="sendFeedback()">Contact Us</a></p>
        </div>
    </div>

    <script>
        const API_KEY = 'AIzaSyAP801PUtypP5vlACNI8vHj1eFlsLApZas';
        const API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent';

        let currentInputType = 'text';
        let currentLanguage = 'general';
        let selectedImage = null;

        // DOM Elements
        const optionBtns = document.querySelectorAll('.option-btn');
        const languageTabs = document.querySelectorAll('.tab-btn');
        const textInput = document.querySelector('.text-input');
        const imageInput = document.querySelector('.image-input');
        const questionText = document.getElementById('questionText');
        const imageInputElement = document.getElementById('imageInput');
        const imagePreview = document.getElementById('imagePreview');
        const solveBtn = document.getElementById('solveBtn');
        const loading = document.getElementById('loading');
        const result = document.getElementById('result');
        const resultContent = document.getElementById('resultContent');
        const error = document.getElementById('error');

        // Event Listeners
        optionBtns.forEach(btn => {
            btn.addEventListener('click', () => switchInputType(btn.dataset.option));
        });

        languageTabs.forEach(tab => {
            tab.addEventListener('click', () => switchLanguage(tab.dataset.lang));
        });

        imageInputElement.addEventListener('change', handleImageSelect);
        solveBtn.addEventListener('click', solveQuestion);

        // Menu Functions
        function toggleMenu() {
            const slideMenu = document.getElementById('slideMenu');
            const menuOverlay = document.getElementById('menuOverlay');
            
            slideMenu.classList.add('active');
            menuOverlay.classList.add('active');
        }

        function closeMenu() {
            const slideMenu = document.getElementById('slideMenu');
            const menuOverlay = document.getElementById('menuOverlay');
            
            slideMenu.classList.remove('active');
            menuOverlay.classList.remove('active');
        }

        function openShareModal() {
            closeMenu();
            document.getElementById('shareModal').classList.add('active');
        }

        function openPrivacyModal() {
            closeMenu();
            document.getElementById('privacyModal').classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function sendFeedback() {
            closeMenu();
            openFeedbackModal();
        }

        function openFeedbackModal() {
            document.getElementById('feedbackModal').classList.add('active');
        }

        function sendEmailFeedback() {
            const feedbackText = document.getElementById('feedbackText').value.trim();
            const userEmail = document.getElementById('userEmail').value.trim();
            
            if (!feedbackText) {
                alert('कृपया अपना feedback लिखें / Please write your feedback');
                return;
            }
            
            const subject = encodeURIComponent('Feedback for HomeworkIt - Question Solver AI');
            let body = encodeURIComponent(`Hi,\n\nFeedback from user:\n\n${feedbackText}\n\n`);
            
            if (userEmail) {
                body = encodeURIComponent(`Hi,\n\nFeedback from user: ${userEmail}\n\n${feedbackText}\n\n`);
            }
            
            // Try mailto first
            const mailtoLink = `mailto:shivamvishwakarma28756@gmail.com?subject=${subject}&body=${body}`;
            
            // For mobile devices, try different approaches
            if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                // Mobile device
                window.location.href = mailtoLink;
            } else {
                // Desktop
                const newWindow = window.open(mailtoLink);
                // Fallback if mailto doesn't work
                setTimeout(() => {
                    if (!newWindow || newWindow.closed) {
                        // Show alternative contact info
                        alert(`Please send your feedback to: shivamvishwakarma28756@gmail.com\n\nYour feedback:\n${feedbackText}`);
                    }
                }, 1000);
            }
            
            closeModal('feedbackModal');
            alert('Thank you for your feedback! / फीडबैक के लिए धन्यवाद!');
        }

        function shareWhatsApp() {
            const text = encodeURIComponent('🤖 Check out HomeworkIt - Question Solver AI! It helps solve academic questions instantly using AI. Perfect for students! ' + window.location.href);
            window.open(`https://wa.me/?text=${text}`, '_blank');
        }

        function shareFacebook() {
            const url = encodeURIComponent(window.location.href);
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
        }

        function shareTwitter() {
            const text = encodeURIComponent('🤖 Check out HomeworkIt - Question Solver AI! Perfect for students to solve academic questions instantly using AI.');
            const url = encodeURIComponent(window.location.href);
            window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                alert('Link copied to clipboard!');
            }).catch(() => {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = window.location.href;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Link copied to clipboard!');
            });
        }

        // Functions
        function switchInputType(type) {
            currentInputType = type;
            
            optionBtns.forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[data-option="${type}"]`).classList.add('active');
            
            textInput.classList.remove('active');
            imageInput.classList.remove('active');
            
            if (type === 'text') {
                textInput.classList.add('active');
            } else {
                imageInput.classList.add('active');
            }
            
            hideResult();
        }

        function switchLanguage(lang) {
            currentLanguage = lang;
            
            languageTabs.forEach(tab => tab.classList.remove('active'));
            document.querySelector(`[data-lang="${lang}"]`).classList.add('active');
            
            updatePlaceholder();
            hideResult();
        }

        function updatePlaceholder() {
            const placeholders = {
                general: "Type your question here... You can ask in Hindi or English.\nExamples:\n• गुरुत्वाकर्षण क्या है?\n• Solve: 2x + 5 = 15\n• What is photosynthesis?",
                hindi: "यहाँ अपना सवाल टाइप करें...\nउदाहरण:\n• गुरुत्वाकर्षण क्या है?\n• भारत की राजधानी क्या है?\n• प्रकाश संश्लेषण क्या है?",
                english: "Type your question here in English...\nExamples:\n• What is gravity?\n• Explain photosynthesis\n• What is the capital of India?",
                math: "Type your math problem here...\nExamples:\n• Solve: 2x + 5 = 15\n• What is the derivative of x²?\n• Calculate: 15% of 200"
            };
            
            questionText.placeholder = placeholders[currentLanguage];
        }

        function handleImageSelect(event) {
            const file = event.target.files[0];
            if (file) {
                selectedImage = file;
                const reader = new FileReader();
                reader.onload = (e) => {
                    imagePreview.innerHTML = `<img src="${e.target.result}" alt="Selected image">`;
                };
                reader.readAsDataURL(file);
                hideResult();
            }
        }

        async function imageToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => {
                    const base64 = reader.result.split(',')[1];
                    resolve(base64);
                };
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }

        async function solveQuestion() {
            hideError();
            hideResult();
            
            if (currentInputType === 'text' && !questionText.value.trim()) {
                showError('कृपया अपना सवाल टाइप करें / Please type your question');
                return;
            }
            
            if (currentInputType === 'image' && !selectedImage) {
                showError('कृपया एक इमेज अपलोड करें / Please upload an image');
                return;
            }

            showLoading();
            
            try {
                let requestBody;
                
                if (currentInputType === 'text') {
                    const prompt = getLanguagePrompt() + questionText.value.trim();
                    requestBody = {
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    };
                } else {
                    const base64Image = await imageToBase64(selectedImage);
                    const prompt = getLanguagePrompt() + "Please analyze this image and solve the question or problem shown in it. Provide a detailed explanation.";
                    
                    requestBody = {
                        contents: [{
                            parts: [
                                {
                                    text: prompt
                                },
                                {
                                    inline_data: {
                                        mime_type: selectedImage.type,
                                        data: base64Image
                                    }
                                }
                            ]
                        }]
                    };
                }

                const response = await fetch(`${API_URL}?key=${API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestBody)
                });

                if (!response.ok) {
                    throw new Error(`API request failed: ${response.status}`);
                }

                const data = await response.json();
                
                if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                    const answer = data.candidates[0].content.parts[0].text;
                    showResult(answer);
                } else {
                    throw new Error('No response generated');
                }
                
            } catch (err) {
                console.error('Error:', err);
                showError('कुछ गलत हुआ। कृपया दोबारा कोशिश करें। / Something went wrong. Please try again.');
            } finally {
                hideLoading();
            }
        }

        function getLanguagePrompt() {
            const prompts = {
                general: "You are a helpful AI assistant that can solve questions in both Hindi and English. Provide detailed, accurate answers. If the question is in Hindi, respond in Hindi. If in English, respond in English. ",
                hindi: "आप एक सहायक AI असिस्टेंट हैं जो हिंदी में सवालों का जवाब देते हैं। विस्तृत और सटीक उत्तर दें। ",
                english: "You are a helpful AI assistant. Provide detailed, accurate answers in English. ",
                math: "You are a math expert AI assistant. Solve mathematical problems step by step with clear explanations. Show your work and provide the final answer. "
            };
            
            return prompts[currentLanguage];
        }

        function showLoading() {
            loading.classList.add('active');
            solveBtn.disabled = true;
        }

        function hideLoading() {
            loading.classList.remove('active');
            solveBtn.disabled = false;
        }

        function showResult(answer) {
            resultContent.textContent = answer;
            result.classList.add('active');
        }

        function hideResult() {
            result.classList.remove('active');
        }

        function showError(message) {
            error.textContent = message;
            error.classList.add('active');
        }

        function hideError() {
            error.classList.remove('active');
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            const shareModal = document.getElementById('shareModal');
            const privacyModal = document.getElementById('privacyModal');
            
            if (event.target === shareModal) {
                closeModal('shareModal');
            }
            if (event.target === privacyModal) {
                closeModal('privacyModal');
            }
        }

        // Initialize
        updatePlaceholder();

        // Load Adsterra ads after page load
        window.addEventListener('load', function() {
            setTimeout(function() {
                // Force load ads if they don't load automatically
                if (typeof window.invoke === 'function') {
                    window.invoke();
                }
            }, 2000);
        });
    </script>
</body>
</html>